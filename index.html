<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Nautical Pirate Poems</title>
  <link href="https://fonts.googleapis.com/css?family=Pirata+One&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      color: #ffcc00;
      font-family: 'Pirata One', cursive, serif;
      text-align: center;
      background-size: cover;
      overflow: hidden; /* Prevent scrollbars from wave animation */
      background-color: #001f3f; /* Deep ocean blue */
      position: relative;
      height: 100vh;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    /* Ocean styles updated to fill screen */
    .ocean {
      height: 100vh; /* Full height of viewport */
      width: 100%;
      position: absolute;
      bottom: 0;
      left: 0;
      background: linear-gradient(180deg, #001f3f 0%, #00264d 50%, #003366 100%); /* Improved ocean gradient */
      z-index: -10; /* Behind other content */
    }

    /* Create a single cohesive ocean rather than separate waves */
    .ocean-surface {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 300px;
      overflow: hidden;
      z-index: -5;
    }

    /* Water body */
    .water {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 250px;
      background: linear-gradient(180deg, #0088ff 0%, #0044aa 100%);
      z-index: -6;
    }

    /* Waves on top of water */
    .wave {
      position: absolute;
      bottom: 180px; /* Position above the water body */
      width: 6400px; /* Much wider for smoother animation */
      height: 70px; /* Height of the wave */
      background: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTIwMCAxMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbD0iIzAwODhmZiIgZD0iTTAsMCBDMzAsMzAgNTUsNTAgOTAsNDAgQzEzMCwyOCAyMDAsNjAgMjQwLDUwIEMyOTAsMzUgMzIwLDQ1IDM5MCw2MCBDNDY1LDcwIDQ5MCw0MCA1NjAsMCAKICAgICAgICAgICAgICAgICAgICAgICAgQzYzMCw0MCA2OTAsNjAgNzMwLDUwIEM3NzAsNDAgODQwLDQwIDkwMCw2MCBDOTUwLDgwIDEwMDAsNjUgMTA2MCw0MCBDMTE0MCwxMCAxMTcwLDQ1IDEyMDAsMCBWMCBaIi8+Cjwvc3ZnPg==") repeat-x;
      background-size: 1600px 120px;
      animation: wave-animation linear infinite;
      opacity: 0.9;
      transform-origin: center bottom;
      left: 0;
    }

    .wave-1 {
      animation-duration: 20s;
      opacity: 0.9;
      z-index: -5;
    }

    .wave-2 {
      bottom: 190px;
      animation-duration: 25s;
      animation-delay: -5s;
      opacity: 0.75;
      z-index: -6;
      filter: brightness(1.1);
      transform: scaleX(1.1) scaleY(0.8);
    }

    .wave-3 {
      bottom: 200px;
      animation-duration: 30s;
      animation-delay: -12s;
      opacity: 0.6;
      z-index: -7;
      filter: brightness(1.2);
      transform: scaleX(0.9) scaleY(0.7);
    }

    @keyframes wave-animation {
      0% {
        transform: translateX(0) scaleY(var(--wave-scale, 1));
      }
      100% {
        transform: translateX(-1600px) scaleY(var(--wave-scale, 1));
      }
    }

    /* Sun style */
    .sun {
      position: absolute;
      top: 60px;
      right: 100px;
      width: 80px;
      height: 80px;
      background: radial-gradient(circle, #ffee00 30%, #ffa500 70%);
      border-radius: 50%;
      box-shadow: 0 0 50px 15px rgba(255, 234, 0, 0.3);
      z-index: -9;
    }

    /* Clouds */
    .cloud {
      position: absolute;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 50%;
      z-index: -8;
      filter: blur(3px);
      animation: driftCloud linear infinite;
    }

    .cloud-1 {
      width: 100px;
      height: 60px;
      top: 80px;
      left: -150px;
      animation-duration: 90s;
    }

    .cloud-2 {
      width: 150px;
      height: 70px;
      top: 50px;
      left: -250px;
      animation-duration: 120s;
    }

    .cloud-3 {
      width: 80px;
      height: 40px;
      top: 120px;
      left: -100px;
      animation-duration: 60s;
    }

    /* Birds */
    .bird {
      position: absolute;
      z-index: -7;
      animation: flyBird linear infinite;
    }

    .bird-1 {
      top: 100px;
      left: -50px;
      animation-duration: 25s;
    }

    .bird-2 {
      top: 70px;
      left: -80px;
      animation-duration: 30s;
    }

    .bird-3 {
      top: 150px;
      left: -30px;
      animation-duration: 28s;
    }

    .wing {
      position: absolute;
      width: 12px;
      height: 3px;
      background-color: #000;
      animation: flapWings 0.5s ease-in-out infinite alternate;
    }

    .wing-left {
      transform: rotate(-30deg);
      transform-origin: right;
    }

    .wing-right {
      transform: rotate(30deg);
      transform-origin: left;
      left: 8px;
    }

    @keyframes flapWings {
      0% { transform-origin: center; transform: rotateX(0deg); }
      100% { transform-origin: center; transform: rotateX(60deg); }
    }

    @keyframes flyBird {
      0% { transform: translateX(0); }
      100% { transform: translateX(calc(100vw + 100px)); }
    }

    @keyframes driftCloud {
      0% { transform: translateX(0); }
      100% { transform: translateX(calc(100vw + 300px)); }
    }

    /* Ship container - centers all ships */
    .ships-container {
      position: absolute;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: -3;
    }

    /* Ship styles - created from scratch with CSS */
    .ship {
      position: absolute;
      z-index: -3;
      animation: moveShip linear infinite;
      transition: bottom 2s ease, transform 2s ease; /* Smooth transitions for wave intensity changes */
    }

    /* Different ship sizes and speeds */
    .ship-large {
      bottom: var(--ship-large-bottom, 120px);
      transform: scale(1.0);
      animation-duration: 120s; /* Slower movement for more distance between ships */
    }

    .ship-medium {
      bottom: var(--ship-medium-bottom, 140px);
      transform: scale(0.7);
      animation-duration: 100s;
    }

    .ship-small {
      bottom: var(--ship-small-bottom, 150px);
      transform: scale(0.4);
      animation-duration: 80s;
    }

    /* Hull styles for all ships */
    .hull {
      position: relative;
      height: 60px;
      background-color: #8B4513;
      border-radius: 10px 50px 0 0;
      transform: skewX(-10deg);
      transform-origin: bottom;
    }

    /* Base ship styles - single mast */
    .hull-1 {
      width: 120px;
    }

    /* Medium ship - two masts */
    .hull-2 {
      width: 180px;
    }

    /* Large ship - three masts */
    .hull-3 {
      width: 240px;
    }

    /* Deck styles */
    .deck {
      position: absolute;
      top: 0;
      height: 15px;
      background-color: #A0522D;
      border-radius: 5px 30px 0 0;
    }

    .deck-1 {
      left: 20px;
      width: 90px;
    }

    .deck-2 {
      left: 30px;
      width: 140px;
    }

    .deck-3 {
      left: 40px;
      width: 190px;
    }

    /* Mast styles */
    .mast {
      position: absolute;
      width: 8px;
      height: 90px;
      background-color: #4B3621;
    }

    /* Single mast ship */
    .mast-center {
      top: -80px;
      left: 60px;
    }

    /* Two mast ship - front mast */
    .mast-front {
      top: -80px;
      left: 50px;
    }

    /* Two mast ship - back mast */
    .mast-back {
      top: -75px;
      left: 120px;
    }

    /* Three mast ship */
    .mast-front-large {
      top: -90px;
      left: 60px;
    }

    .mast-middle-large {
      top: -100px; /* Taller middle mast */
      left: 120px;
    }

    .mast-back-large {
      top: -85px;
      left: 180px;
    }

    /* Sail styles */
    .sail {
      position: absolute;
      background-color: #FFF5E1;
      clip-path: polygon(0 0, 100% 10%, 100% 100%, 0% 100%);
      border-radius: 2px;
    }

    /* Single mast sail */
    .sail-center {
      top: -70px;
      left: 70px;
      width: 60px;
      height: 60px;
    }

    /* Two mast ship sails */
    .sail-front {
      top: -70px;
      left: 60px;
      width: 50px;
      height: 60px;
    }

    .sail-back {
      top: -65px;
      left: 130px;
      width: 50px;
      height: 55px;
    }

    /* Three mast ship sails */
    .sail-front-large {
      top: -80px;
      left: 70px;
      width: 60px;
      height: 70px;
    }

    .sail-middle-large {
      top: -90px;
      left: 130px;
      width: 70px;
      height: 80px;
    }

    .sail-back-large {
      top: -75px;
      left: 190px;
      width: 55px;
      height: 65px;
    }

    /* Jolly Roger flag */
    .flag {
      position: absolute;
      top: -95px;
      width: 25px;
      height: 15px;
      background-color: #000;
      overflow: hidden;
    }

    .flag-small {
      left: 60px;
    }

    .flag-medium {
      left: 120px;
    }

    .flag-large {
      left: 120px;
    }

    .skull {
      width: 8px;
      height: 8px;
      background-color: white;
      border-radius: 50%;
      position: absolute;
      top: 3px;
      left: 9px;
    }

    .bones {
      width: 15px;
      height: 2px;
      background-color: white;
      position: absolute;
      bottom: 2px;
      left: 5px;
      transform: rotate(45deg);
    }

    .bones-x {
      width: 15px;
      height: 2px;
      background-color: white;
      position: absolute;
      bottom: 2px;
      left: 5px;
      transform: rotate(-45deg);
    }

    /* Ship movement */
    @keyframes moveShip {
      0% { transform: translateX(-300px); }
      100% { transform: translateX(calc(100vw + 300px)); }
    }

    h1 {
      margin: 2rem 0;
      font-size: 3rem;
      text-shadow: 2px 2px 4px #000;
      z-index: 1;
      position: relative;
      width: 100%;
      text-align: center;
    }
    
    .content-wrapper {
      position: relative;
      width: 100%;
      max-width: 1200px;
      display: flex;
      flex-direction: column;
      align-items: center;
      z-index: 1;
    }
    
    .poem-container {
      display: inline-block;
      max-width: 800px;
      padding: 1.5rem;
      border: 2px solid #ffcc00;
      border-radius: 12px;
      background-color: rgba(0, 0, 0, 0.5);
      box-shadow: 0 0 20px #ffcc00;
      line-height: 1.6;
      font-size: 1.25rem;
      white-space: pre-wrap;
      position: relative;
      z-index: 1;
      margin: 0 auto;
      text-align: center;
    }

    /* Control panel for the ocean violence */
    .controls {
      margin-top: 20px;
      padding: 10px 20px;
      background-color: rgba(0, 0, 0, 0.8);
      border-radius: 10px;
      display: inline-flex;
      position: relative;
      z-index: 1;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 15px rgba(255, 204, 0, 0.5);
    }

    .slider-container {
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0;
    }

    .slider-container label {
      margin-right: 10px;
      font-size: 1.1rem;
      text-shadow: 1px 1px 2px #000;
    }

    #violence-slider {
      width: 200px;
      height: 15px;
      -webkit-appearance: none;
      appearance: none;
      background: linear-gradient(to right, #006699, #ff0000);
      outline: none;
      border-radius: 10px;
    }

    #violence-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 25px;
      height: 25px;
      border-radius: 50%;
      background: #ffcc00;
      cursor: pointer;
      box-shadow: 0 0 5px rgba(0,0,0,0.5);
    }

    #violence-slider::-moz-range-thumb {
      width: 25px;
      height: 25px;
      border-radius: 50%;
      background: #ffcc00;
      cursor: pointer;
      box-shadow: 0 0 5px rgba(0,0,0,0.5);
    }

    #violence-value {
      margin-left: 10px;
      min-width: 30px;
      font-weight: bold;
      text-shadow: 1px 1px 2px #000;
    }
  </style>
</head>
<body>

  <!-- Ocean with new cohesive wave design -->
  <div class="ocean">
    <div class="ocean-surface">
      <div class="water"></div>
      <div class="wave wave-1"></div>
      <div class="wave wave-2"></div>
      <div class="wave wave-3"></div>
    </div>
  </div>

  <!-- Sun -->
  <div class="sun"></div>
  
  <!-- Clouds -->
  <div class="cloud cloud-1"></div>
  <div class="cloud cloud-2"></div>
  <div class="cloud cloud-3"></div>
  
  <!-- Birds -->
  <div class="bird bird-1">
    <div class="wing wing-left"></div>
    <div class="wing wing-right"></div>
  </div>
  <div class="bird bird-2">
    <div class="wing wing-left"></div>
    <div class="wing wing-right"></div>
  </div>
  <div class="bird bird-3">
    <div class="wing wing-left"></div>
    <div class="wing wing-right"></div>
  </div>

  <!-- Ship container to center ships -->
  <div class="ships-container" id="ships-container">
    <!-- Ships will be created dynamically via JavaScript for proper spacing -->
  </div>

  <div class="content-wrapper">
    <h1>⚓️ Ahoy, Matey! ⚓️</h1>
    <div id="poem" class="poem-container"></div>
    
    <!-- Violence control slider -->
    <div class="controls">
      <div class="slider-container">
        <label for="violence-slider">Ocean Violence:</label>
        <input type="range" id="violence-slider" min="1" max="10" value="5">
        <span id="violence-value">5</span>
      </div>
    </div>
  </div>

  <script>
    const poems = [
      `The sea, the sea, the open sea,
The blue, the fresh, the ever free!
Without a mark, without a bound,
A wild and endless world around—
The clouds are sailing overhead,
The living waves are all unsaid,
And in the heart of all is joy,
A boundless, glad, unspent employ.`,
      
      `Yo ho ho and a bottle of rum,
Sailing the seas till the morning come.
With a hearty crew and a treasure map,
We brave the waves and avoid the trap.`,
      
      `Upon the deck, the salty breeze,
Whispers tales of the seven seas.
Pirates bold with hearts so free,
Chasing dreams eternally.`,
      
      `In the darkest night, the stars do gleam,
Guiding ships through the ocean's dream.
With Jolly Roger flying high,
We sail beneath the moonlit sky.`
    ];

    // Ship configuration - defines types of ships to create
    const shipConfigs = [
      { type: 'large', count: 2 },  // 2 large ships
      { type: 'medium', count: 3 }, // 3 medium ships
      { type: 'small', count: 3 }   // 3 small ships
    ];

    // Function to show a random poem
    function showRandomPoem() {
      const idx = Math.floor(Math.random() * poems.length);
      document.getElementById('poem').textContent = poems[idx];
    }

    // Function to create a ship element based on type
    function createShip(type, delayPercentage) {
      const ship = document.createElement('div');
      ship.className = `ship ship-${type}`;
      
      // Set different animation delays to prevent overlapping
      ship.style.animationDelay = `-${delayPercentage}s`;
      
      // Create ship structure based on type
      let shipHTML = '';
      
      if (type === 'large') {
        shipHTML = `
          <div class="hull hull-3">
            <div class="deck deck-3"></div>
            <div class="mast mast-front-large"></div>
            <div class="mast mast-middle-large"></div>
            <div class="mast mast-back-large"></div>
            <div class="sail sail-front-large"></div>
            <div class="sail sail-middle-large"></div>
            <div class="sail sail-back-large"></div>
            <div class="flag flag-large">
              <div class="skull"></div>
              <div class="bones"></div>
              <div class="bones-x"></div>
            </div>
          </div>
        `;
      } else if (type === 'medium') {
        shipHTML = `
          <div class="hull hull-2">
            <div class="deck deck-2"></div>
            <div class="mast mast-front"></div>
            <div class="mast mast-back"></div>
            <div class="sail sail-front"></div>
            <div class="sail sail-back"></div>
            <div class="flag flag-medium">
              <div class="skull"></div>
              <div class="bones"></div>
              <div class="bones-x"></div>
            </div>
          </div>
        `;
      } else { // small
        shipHTML = `
          <div class="hull hull-1">
            <div class="deck deck-1"></div>
            <div class="mast mast-center"></div>
            <div class="sail sail-center"></div>
            <div class="flag flag-small">
              <div class="skull"></div>
              <div class="bones"></div>
              <div class="bones-x"></div>
            </div>
          </div>
        `;
      }
      
      ship.innerHTML = shipHTML;
      return ship;
    }

    // Initialize ships with proper spacing to prevent overlap
    function initializeShips() {
      const container = document.getElementById('ships-container');
      
      // Calculate total animation duration for each ship type
      const durations = {
        large: parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--ship-large-duration') || '120'),
        medium: parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--ship-medium-duration') || '100'),
        small: parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--ship-small-duration') || '80')
      };
      
      // Create each type of ship with proper spacing
      shipConfigs.forEach(config => {
        const { type, count } = config;
        const duration = durations[type] || 100;
        
        // Evenly distribute ships across the animation timeline
        for (let i = 0; i < count; i++) {
          // Calculate delay percentage to evenly space ships
          const delayPercentage = (duration / count) * i;
          const ship = createShip(type, delayPercentage);
          container.appendChild(ship);
        }
      });
    }

    // Wave and ship animation parameters
    let currentViolence = 5; // Default violence level
    let targetViolence = 5;  // Target violence level for smooth transitions
    let waveAmplitude = 15;  // Default amplitude
    let previousTimestamp = 0;
    
    // Ocean violence slider functionality
    const violenceSlider = document.getElementById('violence-slider');
    const violenceValue = document.getElementById('violence-value');
    
    // Update CSS variables based on slider value with smooth transitions
    function updateViolence() {
      targetViolence = parseInt(violenceSlider.value);
      violenceValue.textContent = targetViolence;
    }
    
    // Animation function that applies gradual wave changes and updates ship positions
    function animate(timestamp) {
      if (!previousTimestamp) previousTimestamp = timestamp;
      const deltaTime = timestamp - previousTimestamp;
      previousTimestamp = timestamp;
      
      // Smoothly interpolate between current and target violence levels
      if (currentViolence !== targetViolence) {
        const step = Math.min(deltaTime / 500, 0.1); // Smooth transition speed
        if (Math.abs(currentViolence - targetViolence) < step) {
          currentViolence = targetViolence;
        } else if (currentViolence < targetViolence) {
          currentViolence += step;
        } else {
          currentViolence -= step;
        }
      }
      
      // Calculate wave parameters based on current violence level
      const waveScale = 1 + (currentViolence * 0.1); // 1.1 to 2.0
      const waveSpeed = 20 - (currentViolence * 1); // 20s to 10s (faster at higher violence)
      
      // Apply wave scale to wave elements
      document.documentElement.style.setProperty('--wave-scale', waveScale);
      
      // Update wave animation speed
      const waves = document.querySelectorAll('.wave');
      waves.forEach((wave, index) => {
        // Adjust wave animation duration based on index and violence
        const baseDuration = waveSpeed + (index * 5); // Each wave gets progressively slower
        wave.style.animationDuration = `${baseDuration}s`;
        
        // Update wave height based on violence
        const baseHeight = 70 + (currentViolence * 10); // 80px to 170px
        wave.style.height = `${baseHeight}px`;
      });
      
      // Update water height based on violence
      const water = document.querySelector('.water');
      const waterHeight = 250 + (currentViolence * 15); // 265px to 400px
      water.style.height = `${waterHeight}px`;
      
      // Position ships on waves
      const ships = document.querySelectorAll('.ship');
      ships.forEach(ship => {
        const rect = ship.getBoundingClientRect();
        const screenWidth = window.innerWidth;
        
        // Calculate ship's relative position (0 to 1 across screen width)
        const relativePosX = (rect.left + rect.width/2) / screenWidth;
        
        // Calculate wave height at ship's position using sine wave
        // More complex wave pattern with phase shifts and amplitudes based on violence
        const waveHeight = 
          Math.sin(timestamp/2000 + relativePosX * 10) * (5 + currentViolence) +
          Math.sin(timestamp/1500 + relativePosX * 5) * (3 + currentViolence * 0.7);
        
        // Base bottom position based on ship type
        let baseBottom;
        if (ship.classList.contains('ship-large')) {
          baseBottom = 150 + (currentViolence * 3);
        } else if (ship.classList.contains('ship-medium')) {
          baseBottom = 160 + (currentViolence * 3);
        } else { // ship-small
          baseBottom = 170 + (currentViolence * 3);
        }
        
        // Apply bobbing to ship's position
        ship.style.bottom = `${baseBottom + waveHeight}px`;
        
        // Calculate tilt based on wave slope
        const waveSlopeX = relativePosX + 0.01;
        const waveHeightAtSlope = 
          Math.sin(timestamp/2000 + waveSlopeX * 10) * (5 + currentViolence) +
          Math.sin(timestamp/1500 + waveSlopeX * 5) * (3 + currentViolence * 0.7);
        
        const slope = (waveHeightAtSlope - waveHeight) / 0.01;
        const tiltAngle = slope * (2 + currentViolence * 0.3); // Tilt increases with violence
        
        // Apply rotation to match wave slope
        ship.style.transform = `translateX(0) rotate(${tiltAngle}deg)`;
      });
      
      requestAnimationFrame(animate);
    }
    
    // Initialize everything
    function init() {
      showRandomPoem();
      initializeShips();
      
      // Set initial values
      updateViolence();
      
      // Start animation loop
      requestAnimationFrame(animate);
      
      // Listen for slider changes
      violenceSlider.addEventListener('input', updateViolence);
    }
    
    // Start everything when the page is loaded
    window.addEventListener('load', init);
  </script>

</body>
</html>
